#include <algorithm>
#include <bits/stdc++.h>
using namespace std;

int main() {
  ifstream f("input.txt");
  if (!f.is_open()) {
    cerr << " error opening file" << endl;
    return 1;
  }

  string s;
  vector<vector<char>> v;
  vector<char> movements;
  /*string movementStr =*/
  /*    "<vv>^<v^>v>^vv^v>v<>v^v<v<^vv<<<^><<><>>v<vvv<>^v^>^<<<><<v<<<v^vv^v>^"*/
  /*    "vvv<<^>^v^^><<>>><>^<<><^vv^^<>vvv<>><^^v>^>vv<>v<<<<v<^v>^<^^>>>^<v<v"*/
  /*    "><>vv>v^v^<>><>>>><^^>vv>v<^^^>>v^v^<^^>v^^>v^<^v>v<>>v^v^<v>v^^<^^vv<"*/
  /*    "<<v<^>>^^^^>>>v^<>vvv^><v<<<>^^^vv^<vvv>^>v<^^^^v<>^>vvvv><>>v^<<^^^^^"*/
  /*    "^><^><>>><>^^<<^^v>>><^<v>^<vv>>v>>>^v><>^v><<<<v>>v<v<v>vvv>^<><<>^><"*/
  /*    "^>><>^v<><^vvv<^^<><v<<<<<><^v<<<><<<^^<v<^^^><^>>^<v^><<<^>>^v<v^v<v^"*/
  /*    ">^>>^v>vv>^<<^v<>><<><<v<<v><>v<^vv<<<>^^v^>^^>>><<^v>>v^v><^^>>^<>vv^"*/
  /*    "<><^^>^^^<><vvvvv^v<v<<>^v<v>v<<^><<><<><<<^^<<<^<<>><<><^^^>^^<>^>v<>"*/
  /*    "^^>vv<^v^v<vv>^<><v<^v>^^^>>>^^vvv^>vvv<>>>^<^>>>>>^<<^v>^vvv<>^<><<v>"*/
  /*    "v^^>>><<^^<>>^v^<v^vv<>v^<<>^<^v^v><^<<<><<^<v><v<>vv>>v><v^<vv<>v^<<^";*/

  string movementStr =
      "vv^>vv<<>v>^^v>><<>vv^>^><<>v^<vv>^<><><<><vv^v^>vvv><^>^^><^<>^<<v>>>v>"
      "v>><vv<>>^^vvv<>>^v<<>^<^v>vv<^<>v>>^^^>^^<<v^v<>^v<>><<^^>>^v>^^>>>><><"
      "^<<>>^^v><<^^v<vv^<<<vv<<<vvv>><><<><vv^^>^>>v^v^^>><vv>v^<v^>>v^>^^v<v>"
      "^^^^v^>^>>v>>v<v<>vv^^^><<><v<<vv^<<<<v^^^v<<^>><<>>>v^<v^^>^<^>v<^^v>"
      "vv<<<^^<<<>>>v<>^^^<^>>>^<>^^><^^><^^^<<>v>v<v^^<>v<^<>>>>^^v<<><<<<<vv<"
      ">>^<>^>^<^v>vv<<^^vv>v^>v>v<^<><v<v>^^v<>^<<vv^^vv<v<^^><^^>v^v^^^v<v>^>"
      "<>v<v<>^^^>>>v<vv^v^>>^v<^^<>^><^>>^vv<>^>v>v^^^^>v^v<^>>v>>^^v^v^v<<><^"
      "><>v<v<v>>^v>v>v>><>^<>v^v<><>^<vv>vv>>^<v^<^>v<^>^^^<>>^^^>v^vv<vv<v>>"
      "v>>v^<>v<<<<v<<v>vv<<<>v>v>v^v^<>>^>^<v><v>><^^<^><>vvv^>v>^^^><^><^>^<>"
      ">><><<v>^vv<v^><v<<v<vv^^>v>^<<v>^v>>^>v^<^^^^>^^>>>^^^<<^v>^v>^vv^<v>^^"
      "vv>^^^<<^vv<>><v^v<<<v>>vvv<>^^>>^<v>v^^^>v^^<>^v>>^>^>v^>^^^v<<^>v^>^>^"
      ">v<^<^^><^^<>>^v>>>^<^^v<v^^><<v>v<<><>^<v><v^><v^v<>><v^>v<v^<>^v><^^<>"
      "<^v>>v^><>v^v<^<vvv><>v<^<>v<v^v^>v><v<>><><>>^><<^v<>v^^<>^^^<>>^>><v>"
      "v<<>^<<<<v<>v<>v^^^>><><v><vvv^v^v<^<>^v<vv^>v><>vv<><vvvv>>>^^^^^^< "
      ">vvvvv^<><v<<v^><vv^>^^<vvv<^^<v><^>>v>>v>>^vv<>>v>^^v<<^^<>^>^v<v>"
      "vvvvv^^>v>^<<<v><<v^vvvv>v>^^<>^^<<>>v<^^<>v>^>>v<^><^v>^^><v<vvv>v^>^<>"
      "^>^<^vv<<>vvv>><><<><^^v>^^^^<^<>^>>v>>vv><><<^v><v<^^<>v><>^<><v<>vv>^"
      "v<v^v^^<<><^v>v^v>>^^^<>v>v^<>^^v>v<<<^v<^<vv^>>^<<^v<v><^>^^vvv^v><^^v>"
      "v>^vv<>v<vv^v<^v<<><v^>v>^>v<<<^^v^<v><>>><<<vvv<^>^<v^<<^^v<<<>vv<v^v<"
      "v>vv^v<<^<^^>><<^<^^<<^>^><>v>>v><<vv^<>^vv^v^>><<v>>v^^<>><^>vv>v>>>><>"
      "^vv^v<v<^^v>^v<^^^<<^^v<^vv><^<v>v>^<^vv><><vv<^><v>^^v^>><^<v>v^<<<<v^^"
      "^vv^<<^v>v><^^^vvv^^<vvv><>^>>v^<<>v<>v><<^vvv^>v<v>vv>>^v^<>>^><v<>^vv<"
      "^>v<<v<^v^^v^^>><<<>>>^v>v><<vvv>vv>>vv>vv<><><<v<^><>><>^<^<^v>v><<<v^"
      "v^><v^vv>^<<v<vv^^vv^<v>^<vv>>vvv^v<vv^><>^v><v<v^>vv>>^^>vv<>><<>v>^>>"
      "vv<>><<>v<><vvvv<<v^>v^<><<^<>v<^^v^^v^<<^^^v^^><>^v><>>v<v<v^^v<><>^v>"
      "v<^>^v><<v>v^v^<^v>><<^>vv<>>>^>^vv^v<<^^v>>^<^v<>v>^<^v>v<^vv^<^<>vv^^^"
      "<>v>v<<<<<vv<>^vv^^<v><>v>^<^v^<^^^v^^<^<<^^>^v^v<><<<><v<^>>>>>><><^<^<"
      "^vvv<>><<>v^^v^><>>v^^^>>^v<v^vv>>><><><<^^v<^^^^v<<<>>>^<>>^<vv<>^^><><"
      "<> "
      "<^>^^v^<<><<>>^><<^><v^>^<>>^^<>^>v<>><v^v<v<^>^v<><^><>v><<>^<v^^^v><v<"
      ">v<>^>^^<v<><v<^v<>^^>^>v>v<<^>v>^^v^v>^^v^^v>v^>^>v><<v<^>v<>vv^<v<<><>"
      ">>>^v<>^<>^^<>><<^>>v>v^>>>vv<<>>^^<v<v^><><><<>v>v^>^>v>^^v<v>>>v>vv^>>"
      "^>>><<v><<v<vv^vvv<><v<<vvv<v>vv^>>vv>^>v><v<>^<v>v>>^<>>^vv^^><v^<>^<<^"
      ">^><v^><<v<v<<^<^>>v>vvvv>vv^>>>vv^v<<<<v<vvvv^<><v^^>^<<^v<v<>><>>>^<<<"
      "vv^>vv^^>v^^>^vv>>v^<vv<>vvv<v>v<<v^<v^v>v<^vv>vv>^v<>v^>^vv^v<v>vv>><<>"
      "v^<^>^v<v<^>vv^^>^^><>v<<v<v>>^vv^vv<>vv^^^v<^vv>vv^v<^><vv>^v^^v^v^v^<>"
      "v<^>>vv^v><^><<>>v^v^v>>^^v><^^^^><vv><>v>>v^v^<^<vv<^>vv<<v^^^^<^<><>v>"
      "^^<<vv<^v<<<<vv^>>^>v^^<<^<vv^<v<><^v<^^>v^v^><<v><<><^^^vv<<vv^>>v<^<<"
      "vv<v^<^>>>><v<v<^<^v>^<v<>v<<<v^>^^v^v<^>><<<<vv^^vv><<vv<^>^^v<v^^v<^^>"
      ">v>v<v>vv<>>^^^<>>^<>><v^vv>vvv<<^v^<>^^<<v^>v>vv>>^vv>^><vv<<><><>v><v<"
      "v^>^v><<<<<v>>>>>>^<<^>^^v>><^>vvv^<v^v<^vv><^v>>><<<>><vv^v>>>>^<>^^^><"
      "^<^v<v>^<vv<<<>v<^^<>^^^>>>^<^<><^>^^><<>>>>^v>><^^^<>v^><>>v>v<^^v>vv^>"
      "<<<v<vv<<^^>><v><v^><>^v<^<^^<vv<v>^<v^<^<v><>v>>><>>^<>^><>^^v^> "
      "<^><^<^<<^<><><<<>^<^<>^vvv<<^<vv<^<^<v^>^v><v>>v>>>v^^>^^>>v<^<^v>^v>>^"
      ">>>>>>>>v^v^<>v<v<v>v^<v>><v^v>>vv^v^><<v<<<>>^v>^v^><^<v^<^<^^^<^>vvvv>"
      "^>>><<>^^^^^>^v^^<<>^<><<^>v^v>v^<>v<^><^^><<^v^<><^^v^>^vvv<>>v^v>^v^v^"
      "^v<vvv<v^^^^>^v>v<>v^>^><^^<><vvvv>^>><vv<v><<<^^>><<<^>v<>^>>><^<<v^v>"
      "v<>^<v<<vv>>vv<>^>>^<><v<^^<>^^><><^^vv<^^><<^<>v<^<^><>^vvvvvv>>>>^^^^<"
      "v^><<v<<>^^v>^>>v<^^v>v<>^<>>^^><<>^^<>^v<vv>><v>>v^>vv^<<<v<^^><^><<"
      "vvv>>>^^>v<<<<^v<v^v<^<^^v>>>vvv><^v<>^^^^v>>vv^vv^<vv<<<>><v<^>vv<v^<"
      "vv^^^><<^^v<<^^vv<v>^^<<v<^^<^^^>v<^^>>>v<>^>vv<<^<^^<<<>><<<>vv<<>>v>^^"
      "<>>^v>>^vvv<vv<^v<>>vv<^v^v<<<<^><^^>v><<v^^v^<>>^vv<><v^<>v^>^^<vv<<>^"
      "vv>v>><^^v<<v^^v<>><><<v^<><<v>><><v^vv>^<<<>>v<<vv^<>v>>^^>>v^v<<<^vv<>"
      "^v^>^vv^^v^vv^^^>>^<>>><>>>v<>>v>^v<^<>><^<<>^><vvvvvv><<vv>vv<^v<<^<v><"
      "<<<>>>v>>^^v^^^>^>^>><^v><<^<><^>>v<^<<>>>>v^v<<>><v>^<v<>v>><v<>v<>>>>^"
      "v^vv>^v><>v<<v>^v^<^<>^^v><^v<^<^^>>vvv^>>v^><v^><<v>><v>>^>^v^^v>v^<>v<"
      "v<<v^vv>v<>>>vv<<><<><^>^>v>^v<<v^^v<>>>^<^<>>v^^^<v>vvv>>^^^v^<>vv>>v< "
      "^v^>><^>^<<^<>>v^<^v^v>><^<>^<v<^v<v<>v^<><^vv<^vvvv>^^>v><vvv^<<<<>vvv<"
      "^<<>v^>^v^<<>><>>^vv<>>>vv<<<^<^<<>v<v<v><>^>^^>v^v<v^><>v<<vv<^<v<>^^^^"
      "^vv>^<^>^^v<v>^v<>>>v<><>^<v^^><v^^^>vv>>>>>v^<<<v<v^v<vv^<<^^vv^>v>>>v>"
      "vv>>^^^^v^vv<<v>v^^^<v^><v<vv>>>>v^v^v^<>^^v^>v<vv^>>^vv<^<<^^>^v<v>^>v>"
      ">^<<^v<>v^^vv<^<<<><>v>>>><^vv^^^<<vv^^v^^v^v>^^v><<<v<v>^^^^vv^>>v>>"
      "vvvv>><<^>v<^v^^vv>><v^v^v>vvv<<>>^^v>^^><<>vv^vv>v>^<^^<>>vv^^<v^^^>><<"
      ">v^>^<v><>><^<v^^<^>>>>>><<<>>>^<<^^^<v^>^v^^v^vvv><^<>><v^>^^><v>vv>>>"
      "v^^^<<<<>v^^>>^<<<>v<v^v<v^><v>^v<^>v<>><v^>vv>v^><>>^v>^v<>>>v^^^^v^v<>"
      "vv<<<>><><^^>>><<^v^^^v<v^^^v^v>>>v>^v>vv>v<<v>^vv>^><v^^<vv<v<<<^>>^v<"
      "vvvv^<<^v^^^<^<v><<<^vv^vvv>^>vv<>v>>^<v>>>^v^>^>>^v^vv><v<<><^vv>>>v>^"
      "v^v<^^<v<<<^^^v<^<^<v>^v^v><>>>v>v>><<>^<^>^<^v<^vv<<>v>^^<v>^v<^<^v^>^<"
      "<<v>^<>>^>^><<v<^v<<>>>v<^><<><><vv^><v>>vv>>v^<v<v<^^vv^^<<^v><vv^<>^v>"
      "v<^^<v<><><^<v<v>v<^^<<>^<^<<^v>>^><>><v<v^<vv<^><v^^>^<>>^v^<<v>^v>v>><"
      "<^^<<^<<^<<^<<^>vvv<vvv^^vv^^<<<v<<<>^<^v^^>^v>v^^v<<>v>>^<>><v^^><^v< "
      "vv^^^<^vv<v^^^^^><^^>^>><^>>>^^>^^v><v>^><^>><<v><<>^<<^vv^^>^>v^>v^^>v<"
      "v^^^v^<<v<>><><v>vv><^<>>>>>^<<v^^<^^><>v^v<vv>^v<><>vv^<^vv^vv<^<^>^v<>"
      ">><vv>>^>v<v>><^><><><^<<^v<^>>vv<^<><^>^v^^^<<>>v^<v>^^<vv>^^v^<^^>>>^<"
      ">^>v>>^><>v^<><>>v<vv<><<^v<v>vv<^<<vv>>>v><>^<^<<<^^^<<vv<<v^^vv>><v<<<"
      "<v^v<>>v><<^v<><>v^v>>>^>^<v>vvvv><<><v><<v<v^><<><><>>>><<^>v><^v^>v><>"
      "v^^<^v<^v<^<>^<<v<>>^<<^v<<<v<v><vvvv^v^<>><><v<v<><<^^^v^>v^>^^^<><<^><"
      "vv^^^>^><v^vv>v>>^><vv>v^>^v>vv><^>v^>>><v<v><^^>^^>>><>^^><>^^^^^vv<>>>"
      "^^^v^v<<<v^>^v^v<^<^^<v>^<^<>vv<v^v^<<>><>v>><><<v<^v><><^<<<>>><^>^<v^^"
      "><v<><<v>^^<^>v^><vvv<v><><v><^>^<<><vvvvvv>v<v^v><><>v<<^<v>v<<>>v^^^v<"
      "<>>><<vv>>>^>^<<<>v^<^^vv^v^v<v>v<v>^>^<v<v^v>>^^>^<>vv^^v^^^>^v^<v<v>^<"
      "v^v^vvv<v^^^^^<><^>v<^v<<<<>v<<>^<^^^>><><^<^^vv^v>><><v<<>vv^^^><<<^^<^"
      "v<v>v<>^v^<<^v><vv^v^^<<^>v^^^>^^^<>vv>><<<^^v>v<>^^^v^v<>><v>v^v^<><^<>"
      "><^><v<<>^v^^^v<^v^<v<>^^>v^><v^>^^^>^<>^vv<<<>>v>>>>v^>v^^v^>>vv^v^vv^"
      "v<>>^<v<v<^>v>><v>><^^v<>^><v<^^vv^<v>v<<vv<<^vvvv^^^vvv^^<<><<^^ "
      ">v^v>>>>><vvv><<>^<v<<<v<><^^<^^^>><>^^^<>vv<>v<v<>vv<>v<>>v<vv<<>vv><^"
      "vv<>v^>^<v><<^v^^v>>^>v^v><<v>vv^>^^^><v<v^>vv^<^v><v^v>^>v>vv^^><v>><<>"
      "<v^<v^vv^^<>><v>>^^<^>^^v>^>^^><<v^<v><><v<<v^>>^<>vvv<>><vv<vv<<<><<v<>"
      "^v>>^v>^>>^^v>^vv<v^<v>><v<<v^v^><<v>v^><vv>v^v><v>>^v^v^>v><>vv><>v<<<^"
      "v>v><<<vv>^v^><v<v<<>vv^^v>v^v^<^<<vv<>v>v<v<>v>^^>v^^><^<v^v<v>v^>>^>^^"
      "^v>><><><^^^<^>v>^>><<vv<v>^>>><<>v<>>>v<>v^>^vv><<^vv<<v^<v<^<<>>v>v<>^"
      "><vv>v><v>v><^<^<>>^v>><v<<>^v>^><^v<<^<^^><vv>^v<^^v<^>v<<^^vv<v<^v<>><"
      "<^<<>^^^v^<vv>>>^v^<>>>^v>v^>>^>^^^^>v>^>>^>vvvv^<>^^>><^<<<^>>><^^^^^>"
      "v<>v^<><<<<>>>v<^^><>>^v<^<v^><>^>>v<^>v^<>>>^^^>v<<>^vv>v^<<v<v>><<>vv^"
      "v^vvvvv^^>^<^<>>^v>v<>^<v^^<v>^<>>>>v^<vv^<>^v>>^<vv^^^^v>>>>^>>^><^<<<^"
      "<^><v<^<>>^^v<>v>vv^v^v^<<>v<<v>><v^>v>>><<v^<>^<^^<^>vv<><<<^<v<v^<v<v>"
      "><^><v<>>v<<<>>^><^v<><>>v^<vv<>v<<^><<v<>^^<><^^>v>^<vv><>^^>v<v>^<>v<^"
      ">vvv><>>vv^^^>vv^>v^v<<<^<^^>v<v>>><vv<<^>>^^>^v<v^v^v^v^^<><<^<^^v><<^^"
      "^vvv>>^>>^^v<^>vv<<>^v^^>v^>>>vv^>>v<>^v<>vv^v><<v^>>vv<>^^>^<v<^< "
      "<<^v<<^^>^^^v<^<<^^v>><^^v<<<v<v^><>v^v>^^^>v^v^<>v^vv<><^<<>v^<>^<v>^v>"
      "v^v><>vv<<>^<>^<v<^^>vv><>^v<><<vv<<<<>v>^>v<v>v><<<>^<>>><v^><><^^v><>^"
      "v<vv^<><<vv><><<^^><>^vvv>^<>vvvv>^^^^^^<<>^^>^v>><vv<>^^<<^>^^>^v^^v<v^"
      "<^><vv>^<><<<^v^<^vvv><>>^<^v>>v>>vvv<>v>^<^^^^>>v><<^>><><>v>>^v^^^vv<<"
      "^^v>^^v<v<>><v^vv>>^<v<vv<>^>v>vvv<<vvv>^^^<v<>v<^>>v<^<<>>vv^<v^>v>^<<<"
      "v>vv>v^vv<v^>v<v<<^<>^v>>vv<v>>v>>^v<>v^>^>^<<>>><^^v<>v<^>>^^v^^>>^<^^^"
      "v^>v^^v<vv^<<v^<v^>v<^^>>^vv>^>^>^v<v^^<^^<vv<<^v<v^^vv>v^^^v<>><<<^^v<<"
      "v^>>>>>^v^>><^^>^^v>v><^>v<^<<^vv<>^><^><v<<>v^><v<<>^><v<<><><<^>vv^^<<"
      "^>v<^<<>^<vvv<<^vvv>>vv<<>vv<^^v>^>^v><<<>vv><^^^>><<><^v^v<^<v<^v^>^v<"
      "v^v>v^^^vv<<>v>v<^v<>^<^v>^^<^v^^^>><v<>><^<><^>^<><^^>><^vvv>>vv>>>^><^"
      "^<vv<^>^<<vv>^v<v<<<>v<v^><^^>^<^>^^>>>^><>><<^^><<<vv<v^<<^>^v><<^<><^"
      "v><^^>>><^v>^^^v>>v<>^^^^^^<<>^^>v<>^vvv>>>vv<<<^vvv<v<<><^<^^v><<^^>>><"
      ">><<^<<^^>v^^^<<v<^v^^<vvv^<^v>^<<<^<^>^v<v<<>vvv<vv>>^>^vvv<^<v>>^<vv>>"
      "v^<>v<<^<>^>^vv^^v><<^vv^v^vv><v<^>><v><v<><^vv>^v>v^^v>>>^<^<><^> "
      ">^^vv^v^^<><<v<>v>>^><v>v^<<v>>vv^<<v<^<>vv<>>^>><>>^<<<<><<^^>><v<vv<>"
      "v^<<^>>>><>><^>v^^>>>>vv>><<v<<^<>^>>^^<v^>vv>v<<v>v<>v>v<v><^>^<>>><<><"
      "^^>v<<v<v>^^<>>>^><>v>vv^^^<^^<vv><v<<v<><>>vvv^>>>>>^vv<v>>^>^v>^^>"
      "vvvv^<v>^v^<^>^^<^<<<<>^^<v>><<<>v<<>><v^v<v>^>v<^v>>>^v>v<^<<<vv<^v<v>>"
      "v><<v>>v>v><>^v^v^>>^v>^v>^>>v>vv^>>>>^<><>v>>^<><v<>>^v<>v^>>v^<><<<v^>"
      "<>v>><><>v<>v<v<>>>>v<<><>>^v>^>>><<v<>^v>>v^<vv^^>^^^><^^><>vv><<>><^v^"
      "^^^^><v^vv>>^vv>>v<v>>>>>>vv>><>v^^><<v<^>^vv<<^>^v<^^^<>v>^^>>v^<^>^^^^"
      "v^>>>>v<>v<<<>^><v<v><<>v^^>>^<v^v<>^<>>>v<^<v<<><vv<v>>>>><v^>v<>^<><<"
      "vv^<>>^<vv^<<v>^v>^^vvvv>v>^vv>v>^><><^>>vv^<>>^v^v<<^><>^<^^>vv><<<>>"
      "vv>v^<>>^v^v^<^>>v^v><<^^>>^<vv^^^<><^vv>^>^^^v>vv^>>^<<>vvv>v^^v>v>^v><"
      "^>><<^<<^>^<^^vv><v>^><>^v<^^<v>v><><^vv^vv<<^<v>^^>v>>vv^^^><<>^v><^^v^"
      "<v<<<>vv>v^>>><<^v<v^vvv^><^>>>><><<vvv>^v<><>v>>v>^v^<>v^^<<^v>v<>>v><>"
      "<v<v^^v<>vv^<v>>>v^<><^^^<<^<v^>>^^^>v^^>vv^v>>^<<<><>^v^^<^^><vv<>>v^^>"
      ">^v<^v>>^v^v<v>>^vvvv>v<>><<^^<<vv<v<>v^^>><<v^<v^<>>>>^><>v^<<^<><>v>v<"
      " <v<>v<>^>^v<>^vvvv^<^>vvv>v^<>^<>>v<v<v<>>^<^vv^>^^^<^v<^v^^v^>v<^<v<<<"
      "vv>^v^v><<<><^v>^><>>^v>vv>>v^>>^><><>v>^v>v^^v<^<<v^v<>vv><>^v>>v<^>vv<"
      ">><v><<<vvv>^v>>v><^^^^>^<^>><>^vv>^><v>^>v>^<<v<<^>^^vv>v^>>v^v>^^><<<>"
      "^<>>vv^<>^v><<v^<^>vv^><^^^v>^<v^<^>>v<<^><><<<><<v>^^<>^vvv<v>>>><v><v>"
      "^><v^vvv><^<>v>v><v<v<<^v>>^^vv^<^<><^<>v^><vvv>vv<^>^<<vv^^^vv<v<vvv<>>"
      "<v^<v^<v^<>^^<^>^><v>^<<v>^>v^<v<^vv^v<^<v>v<>><<>>^vv<>>><<v^<^^^^v>v^"
      "v^v<>vvv>>^><<v<v><v><<>v^<^vv<^^><^vvvvvv^<vv<v^v<><<^>>^^^^v<>vv<^v><<"
      "<<v>><>vvv<v>^v^><^^^^>^<v>>v>v>v^v<>v>><<^><<^v<v^>>^<v^<^^<^>>^<v><>^<"
      "<>><>vvvv^>v<v^v^><<>v><v<^<<>v>v^>vvv>vv^<>v<<^^<^>vv^v>><^vv<v><^^<v>^"
      "vv^>v<>^^<v<vv<^<v>v^<<^<<<>>><v^<>v>>^>><<^<>>>v^<<v<v^^>^<^>^<>v^^^^<"
      "v^vv>v>v<v^><<>^<>>>v>v<<^v^<<><v>^><v><<>>vv><^<v<>>vv<>><<><>^v^>v>^<>"
      "<>v<^^<<^v^<^<v<v>>vvv^vv<^><<^>^^><^>^>>v><vv^>>^>>v<^^>vv<v>>^>>^^v<<<"
      "<<<^>^^v>^v>>^v>vv^v<v>^<<<^>v^<>>>v<^<<>^v>v<v>>^^<<<>v^><<<v^v<^<^<>^^"
      "^v>v<>v^^v^v>^>v<^v><>^v^v<>^<^v<<v<vvv^v<>^<^v^v>^>^^<v^>>v><vv<>v "
      "v^v<^<v>v^>v><^><^v>^v^>^^><^<<^^<<<^<<^v<^<>><^>vvvv>v<<<vv^^^vv<^v><^<"
      ">^<>^>^v>>^<v>vv<^v<>^^^vv<<^<<>v>>>^^v<v^^^>^<><^^>^>^<><vv^<v<<<v<vv>^"
      "><v^<<>^<<<^<v>>>v<<<><<v<<><vv<^<><>^^><<^>vv<v^vv<v^v^<>><vvv^<^v<^^>>"
      "v>^><v>^v<v>^^v^>v>v^><><<<<v^>>v><>vv><^><v^>^<<^<v<v<^<>>>v^vv><^^>>>"
      "v>>^<vvv>^<><>^v<>>v^vv^v<<^v<^v>^vv^^>>v<v^>v<<^><><>><><^v><>^<^^>>>>"
      "vv^v^>vv^<^vv<><>^><><><^vv^^<>^v<<>^v^v^v<v>v^>^vv>>>>>vv><>>^v<<v><>^<"
      ">v<<<v<vvv><>^^>v><v>v^^v<<vvv^^<>v^v>^^^<^^>>>vv>v><<>v>>>^^<^<<^vvv^<>"
      "^<^v><vv>>^<>>^^><><^vv<<<v<>^v^>^><^v^<v>>vv>^^><v<<<^<^<vv^v<^v^^>^>>"
      "vv^vv><>^v>v>>v<>v<>vv^vvv>^<>v>^v^>>^>^<v^<^vv><<v<<^^>^<v^><>v<^>v^^><"
      ">vv>v<<<>>^^^^>vv<v<^>v><v>v^v^v<v>v>^v<>>>v<<>>v^<<>>^^^<^v^>v>vvv^>^v^"
      "v^>>>><v>><vv^>v^vvvvv>v<<<<>^<^^^v><^<>>v>^<^>vvvv<>v>^^>vv^><^v^v>^v>>"
      "v^^v>>v<vvvv^v^^v>^^^^>><^v^^v>v><<>v^^><^<v>^^^<vv>^v<>^v>>vvvv>>^>^<^<"
      ">^><<v>v^>^>>^<<^v>><v>v>^>^<<v^<<^>^<^^<v<<<^<v<<>v^^>><^^v^v^vv^>^v<<^"
      "^^><<^^<<<vv^^><><v<<<>^^^^^^^>vvv<>v<vvv<<>>v<>^<^^^><v>^<^vvvv^v^ "
      "vv^^><>^vv^v<v^<^v>v^>^v>v<>v<<<<>v>>vvvv>v<^^><>><<v>vvv<>^vv><<>^<>>v<"
      ">v<vv<<<^>^<<^v<^v^>>vv<^^<><v^><<>v<<>>>v<>v><^vv>v>^v<^<<>>v>^><vv>^^"
      "v^<vv>><<v<^^vv^vv^<<><^v^vv<>^^^^<<v^^^>>v^v>^>><<>^>v<^^vv^>^^^<^^vvv<"
      "^^><<>vv^^^><v^<v^>v>^<^vv>^><<<><>>v<>v><><>>>^<vv<v<^><><<>v<<<>>><<^>"
      "<<><<<^><^v^^><<v^^<^<vvv>v>^>v^v^^^<v><v>>^^v<vvv>vv>^<^vv<^^<>^>><<^<>"
      ">><^vv^>>vv<v^^^^^v<<<^<<^<>><<v^<<^v^vv^<^v^>>vv><^^^v^>^v>v^v>v^^>^v<>"
      "<v><^<^v<^v<>^<><<v<^vvv<>v<^><>^^>^^<>>>^<>vvv^v<>^v>^><<^vv><>>>^v<^><"
      "<>><<<^v<><^<>>^^><^<v<^^>^<vv^<<^<<><><^><^><^<v^^^vv>v><^v<^>vvvv<>^<^"
      "<<^^v<v^>v>>>v>>>v>>v<^<^<>>>v^<v><>v^><<^<>v^v><^^v><^>>v^<>>^<^>>v><v^"
      ">^><><>^^>v<^^>v^^v><><><<vv^<^><v>v><><v><^v>v^>v<>^><<><>v>v><^>vv<^v<"
      "vv<><>v<>^^v<^v>v<vv<^<vv<<vv^<v><^^^^>vv^>^vvv><v^^<><<<<^^>vv^^<v>>>>^"
      "v>>^<v^<>^><v<<>v^<<><<^>>><^<<>>>^<>^<<^vvv>>>v>v>><><^vv^<>v><v^<^^<^<"
      "vv^>v^v<v>><>>^<v>>v><^<^>><v>v^<<>v^<<^^v<^v^><><<v^vv^^<>vv>^^><^<^^<"
      "vv>vv<<v>v<<<vv^^^^>^^^v^^^vv<^^^v^v>>>>v<v<><^><><>^^>>^^^^<v^<^v "
      "v>v>^v^><<<><<<v^vv>^^v><>><^^>vv^>^v>>v>v>^<v<^vv<><><^><<v<<<<^^>v<^<>"
      "^v><>v^<>^v<vvv^^><<^>>v>>^^^<><vv^v><^^<vv>>^^v>><vv^<v<^^^>vv^>v^v^>^^"
      "^^<^>><<<><v>vv>^^^v><^^v^^^^^>><<^>>v>v>^><>>^vv><^<<v<><<>>>>><>^>vv^<"
      "><><><^<vv<>^>^<<<^<^vvv<^v>vv><v>>^>^>>vv>>^<<vv><<^<<v>v>^v>v>v>vv<^>"
      "v^>v^v^v^<v>^>^>^^<>v><vvv>v>^^^<>^^^<<>^>>^<>><>^^>v>>^^^>v^<^<<v>>^^<^"
      ">v><>vv<v<v^>^>v>>^^<>^<<v<>v^>v>v<<<<<^v><^<<^>>^v^>v^v><^>^<v<<^v^^^<<"
      ">^><<>v<<v>v>v>v^><<v^^^^<^<v<<vv^v^^v>>><^>^<v>^<v<v<>^>^^^vvv>vv>>v<v>"
      "<>^v^^^>^<>vv<^><vv^v<v<>v>v<>><<<^v^<v^^^>^<v^>^<v>v<^<<^>^^>>^^>>><<<^"
      "<^<^><<><^^><><vv>>^<<^^<v<^<><><<^><^v^<vv><v<<^v<><v^v><<^>v<>>>>^>^^"
      "v<^>>v<v^>^>vv>v<><<>^<v<>^v^>^>^^<<>^>v<><^^^>>^^v><>>>v><^^^<>vv<<<<<"
      "vv><^>><v^v<^v<vvv<>^v>>v>>^<v<>^v^v><<^<>><v>>^>v<<v^^^<<^<<v<^^><^v<^^"
      "v>^^<>^v^>>^>>^<^<<^v<<>vvv>vv>^>^v^<<^>>v^><<<^<><^<><^><^vvv<v<>v^>v><"
      "^^<v<^^^>><<<>>vv^>v><>v^v>>vvv>v>^vvv>^>v<^>v>>><>>^^^<^vv<<^^<^>vv<v<>"
      "<>>>^<v>v<^^vv<>^v>v>vv>v^>><><^<><^v<^<<^^v^<^>^vvv>><^>v>>>>>^><> "
      ">^<vv>><<vv>v<><vv>^^>^^vv^v<v^>>^<<<vvvv>^^v>^>vvv><vv^v<^^<<<vv^>v^v><"
      "v<<^<<<^v^<>vv^<>v^>^v>>^vv^>>>v^^<<<>v<^v<^>^>^<^<^^v^^>^<<<^<<<^v<><>"
      "v>>><^^<vv<><v>v<<v>vv^v>>>^^vvvv^<<<vv>^vv<>^<>^<>><>><vv^^<v<><>^^<^^^"
      "<>^<vv<vvv><><^<>><<<vv^<><v>>^<<v^<^^^<^^v^<vv<^v^v^>>v<v><^v>>^v<^<<v^"
      "v<><>^^v<^>vv>><^vv>v<<<^<>>v>^<<>^^^<><^<^<vv^<>^vvv<v^>v<v>v<>^^<v>v^>"
      "v^><^^>^^v<>>><v><<^vv<v><^<v>><<<v^v<vv<v><vv^<v^><><^>v^vv><v<vv^<v^>"
      "vvv^>>v>v^^^>v<v<v<<^<^>^>><v><^>^<vv^><v^>>><^>^vv^^>>v<^v>vvv>v>v^<^>>"
      "^^><>v^>^v^^vv><<^>v<<<><<>^v^<<>>^v>^^>^<^<>^<v<v>^>^v^<>><^^<<<><v^^<>"
      "^><<<v>><<v^<vvv><<>^>><^<>vv>^>>^v<v<>v^>>>v>>><^vv^>^v<><>>^v^<^<><v>^"
      "<<>>>>>><>v>^>v<v>>^<>v><vvvvv<<<^>><^<><<v>>><^<^<v><<v<><<<<>v>^vv<>^^"
      "vv<>^v^vv<>>><vv<>>v^<^<>^<v^<v<^^<>^vv^^<>^>^>^<v>vv<>>^vv<v>v^^v>^^<v>"
      ">>>^^^<^>><>v^>^><>v<^<<<^<^>v<<<v>vv>v<^<>>vv<<^v>><^<<<>>>^v^<<^><<<v<"
      "vv^<^>>v<^v>^<>^^<>v><<vv>>^v<v<v^<^^>v^><>^<v<<>><>^>><>v<<v>v<<v<<v>v>"
      "^>v<v^v^<v><vv<^v>><>>v^<^<<^^^>vvv<v^vvv^vv>>^v<>v^v^<><v<vv^^>>< "
      "<v>v<v<v>^v>v<^<>^<>>^>>vvv^^><vv<>vv<<><vv>vv^<v><<^vv<<^v<^<v><>>^<^^>"
      "v<>v<>^<>v<><^v<^>vv<vv><vv>vv^<<>>v>^^<^><>^v>><v<><v<vvv<^^<><>^^^>>^<"
      ">^<^><vv<<<<>><vv<^vv>v^>v^^>>>>v^^v^^v><^vv^<>v<v<>v^>v>^<><<<<>^v><<^"
      "v>><>v<^<<^<^>^v<v<><^><><>^v<>vv<^>v>^v<<^v<^>vv^<v<>>vv^^^><^^>>><^>><"
      "<>v>^v>^>^v<v><><v^^<>>^^v<^><<v^^>v^^v>^^^^<v<<<^^v^v^<^<vv><<^><^>><v>"
      "^^^v<<vv^vvv>vv^<<v^<v><^><<vv><vvv<v>><v<^<v^v^^>>^^<>>v<><^<^v<><^<<><"
      "^<vv><v<>v><^<<^v><<v<vvv><<v>>v^><<vv>vvv<<>^<<>vv>v^v>v>^vv>>v<v<^^<>"
      "vv<><<v^<>^<<>v>^^v<v<^<<v<vv^<v><>v^<>><vvv><>><^>^^<>^v^^^^><>><^^<^^^"
      "v^v^>v^>vvv>^>^^vvv^<^v^^^<^^<^v^^<>v<<v^v^^>v^^>>><>>v^<^<<v^v^>>v>>^^^"
      "^>v<vvv><^<>^^v<^vv^<v^v^<^v>v^>v<vv^<^<^v^^><<vv^>^v><v<<vvv>v<>>^<<^<>"
      ">>v^^^<^v^>>^vv><<>vv^^<>><>><<vv>vvvv^^^<^><vv<vv<<<^><><v^^>^^>v>^<<v>"
      "v^v^^<^>^v^v>>v>^<><v<>>^^^><>>>>v><^>^vv><^^^v^^^>>^v>v^>vv^vv<>v>^<>>>"
      "><<<^^><<<>v<^<v<>vv^>>^<>v<vv>>>^vv><v><v^^<v<^<>>>v^<<v><><<v><vv^v>><"
      "v^>>>^<><>^v<^<<^><<><^^<^><^^><<><>v>><<^>v>v<^^vvv<^v>vv>^<v^vv< "
      "v>^^>^v>v<^><^^<v<^v<v>>>>>v<^<><>>v>>^vv^<vv>v<<^^>>v<v^>^<<^v><<^>^<v>"
      "<<v><^>^<^^v>>>v^>>^>>^<<^^<^v><><<>>><<vvv>>^<v^^vv>^<^<<<>^>v^><<<>^^"
      "v^^>>><^>><>>^^^vv>v^>^<>v^>v>>><v^><>^^<<v^>v<><v<>^vvv>v<<^v>v^<>^><<<"
      "v>^<>v>v^^>^^>><v><^<<<><v>>v^>vv^^>^<v^v<<<^v>><<<<<^^^>>vv^^>>>>^vvv<<"
      ">vv^><^^>^<^><v<v<v<^v<v<v<><<v^v<vvv><>v>^<^^<^>^><<>^^^>>><v^>>>>^>v>>"
      "<>^>>^^<^<^<<>>>>^^><<<>v<<^>^^<^v<>^v<v<>v^v<>^>><<<<^<<>v>>^vv<<>^^>v^"
      "v>v<v^v>v^v<^^<<v<>v><^^^<vvv>^vv<>^><vv<v^<v><<<vv>^<>v^v^v<<<^>^^<v<<<"
      "v<<>^^v^vv^<^v>^vvv>^>v<v>v^vv<vv>^^^v^^<>v<<vv<<^>>>>^>v<^^^>v^<>v<v<v^"
      "^^>v<<><<v>^v><>vv^<^^v^^<<^<<<^<<<<<<^><^><<<^^>><<^vv<^^<v<>>^^>>v<v<^"
      "<^v<v>v>vv^<^<v>vv^>^^v^vv<<<><^^^^>^^^vv<v<><<>^v>>vvv><>^v<>><<<vvvvv^"
      "vv>^^v<<>v^<><<v^<v^<<>^^vv<>>v<><<<^^^^^v>^<^<v>^>>v<^^v<>v>^<^v>^>>^>"
      "v^<<v<vvv>>><>>^<v<>^<^v<<<><<v>vv><>vvv^<<<>>v><v<<^<^v>^><^^v^><>><<>>"
      "v^^<><vv>><v>v^><v>>>v^<<vv<v>^<^<v^^>v>>^vv>^><v>v>><<v^vv^v>v<>^<v^<^>"
      "^v^^>^>>>^>^^>>>>v^^^^<^<>>vv^<<^>>>^v><<^<^v<vvv>>>v<<v<<^v<v<v^< "
      "vvv>vvv>^><>^<^>>vv^<v>vv><^^v><^vv^^^>^v<^<^<<>v>^<>^^><vv^^>vv^><>^<<<"
      "><>><v>>^<<^^vv<<^^<<v^v>v^<^^<<<>v^^<>>><^^<v<vv^^v^>^v^vv^vv<><>>^v<<>"
      ">^>^^v<>^vvv>vvv<v>v<v^^^<^<<>vvvvv>>^vv<>^<>^<>v^^v><<>>>^<vv><^^v^<>>"
      "v><<^^>v<<v^v>v^>^<v<v<v>>>><^^v^^v>^v<>^v<v^><>^v<<^><^><v^^v><^v>^^>v<"
      "^^>v>^><v>^<^^>^v><^>>^v<v<^^><^v^>^>^^^<><<v>^vvv^<>v<<v>v>v>v>><^<v><"
      "v>v<>v>vv>><^<>^^vv<<>v>>^>v^<^<><^<^<v>v<^>>>^>v^>^>^>^^v<><v<vv^v>^<^>"
      "<^v^<<><>><v^><v<v<<<<^v<^<^^v<<>^<v^vv><vvv^<>><<<<>>><v>^><^v^vvvv<>^>"
      "<^<^><>^<^^v>^^^<>>>>^vv^^>^^v^><^>>^>^<>>^vvv<>vv^^^v^>^><v^<>vv>><^<><"
      ">^v^<v^>^v>vv^v^>>><v^><<^^><<>^<^<^v>^v>^>^><<>v><^<^^^v>>^^<<<^^<<>>>"
      "v^v<<<>>^^v<^<<<>v^^^^<<^>^vv<^>^^>^v^<v^^<v<<^v>><v>><^^>>vv<v>^^><>^<<"
      "v<v<^<^>v<^<vv><<v>v<^^^vv<^^<<^^v<v<<<^^^>>^^><><^><><v<^<>>><<<<<>v><^"
      "v^<<>^<^<>>v<^v<vv^<^<^><><v><vv<>>>>^>^v<<>>v<v^^^v<>>^>v><<^>>v^v><<<<"
      "<v^<vv^vvvv^vv^>v>vv<>v><v>v^vv^^<><v^v<>^vv^<>>^v^v<v^>v^<<><>v>>><>v<<"
      "v><>v>>v^<<<>>>v<^^<<<v>v<<<vvv<v>^^v<^^v<^>v^<><>v>>>>^<>v>v<v<>^^ "
      "<<vv^>^<>^^<vv<<<^^><^v<>^<^>vv<v^<<><^><><<^v<vv><^>v^<^>^^<^v^^>>^^^<<"
      "^^<>>>>v>^^<vv>v<<>^^v<^v^^v<>v<^>v<>>^^^v<<>^^<>v>v<v<<<v^<vv>><^^<v<>"
      "vvvv^<>^><v<>v>>^^v^^>v^^v^^>v<>>>v>>vv><>>>>^^^v^<v<v^v>^<<vv>^<v><<v>^"
      "<^^v>v^v<v<><<v><^<^<v>v<vv<^^v>>^<v><<<^<<^^^v>>><<^>v<vv<^^vv<<>^>^<>>"
      "^^^<<^>v<v>>>>v^>>v>^v>v<<^>v>vvv<v<^^>>>><<<^v^vv>>>>v>v^v>><<^<v>v><"
      "vv^^^>^vv^vvvv<<<v<^>v^^><><v>v>v<v>>>>vv^^<v>^v<<<<<^^^^<v><v<><v^^>v<^"
      ">>^<<^<>^^^^v<v<>^>><v>^v^vv><<<^<>>>^>v>^v<v>>v>v^><v<v>^^v><vv<^><>^<>"
      "vv^<^>>^<><>v^^v<><v<^>><<v>>vv^><vv<><^>v>^<<^^^<<v<>^vv><>^^^>^^^^^>^<"
      "<>v<<^><^>^<^>^^^v^^<><<^v^vv>^>^>vv^v><>vv<<^^vvv><^vv^<<<>>vv^^>^>>>>>"
      "><<<^^^^<^v>>><^^<v^>vv>v>v^^v^><v^^^^><v<>v>^v^vv<v<^><v^<>v<^<<^>^^><^"
      "^<<>v<><^>v^^>>v^<^v^^<vv>v^<^<v^>>^>vv^<^<<^<v<<^v>v>v^<><v^>vvv^>>>v<<"
      "v>>^>>v>^v<<^^><^>^v>>^v^v<<^^v^<><<v^>^v<<><><>>v<^<<^<v>v<^>>^^<<vvvv<"
      "v>><^^<<vv<<><v<<>v^v<v><><<v>>^<<<v<<<>v>>><<>>^>^^^^v><<<^<<<<^><<<>v>"
      ">^<<<v^^>>>^vvvv<<^>^^<vvv<vv<vv^^^^>^^v<^<>v^>^^<vv^<><>><>^^v<<<v "
      "^vv>v<>vvvv<><^<v>^^v^v>>><<v<<<>^<<<<<<<^<>v><<v^<<>>^<^<^><<<>v<^<v^^"
      "v>>>>>^>>>><>vv>^>><^>^<<<><vv>^<^vv<>^<<<vvv>^v><v<<vvvv>^>>^<<^<v^^<v>"
      "^v^^v^<vv<v>vv<v<>^<<<<<>v<^vv^v<^^vv<v>>v^^^v<vv>^><<>^>>^>^><^><<<><>>"
      "<<v>>v<>^v^^<^>vv><>v<<>>^v^<vv>v<^v<v><>^>^>v<>v>v^^>><^>v>^v^<^v^^v>v>"
      ">><<v^<><>vv><^vv^<>^<^<v><>^>v^><<^vv>>^<><^>><><vv>v<^><<^<<>v^^<v^^"
      "vv^^v^<v><>vv^<^<v<>>^^<<<^>>v>^^v^<>>><vv^v<<<>>>><^v<v>>^>>^<^^v<v<<>^"
      "v>v<>^<vv>v<>>>>>^^<v>vvvvv>>vvvv<>^v<>>v<>><<v><^v><v^>v>v^<<<>^^^>>v>^"
      "<^^vv<<<><>v^<^v>>^>>^<^>v<^^vv^><<^vv<vv>vv^v<v^<v^^v^<^<^vv<>v>^<>^><<"
      ">v^<>v<v>^>>>^v>^<<<>v^<^>v>^<^^v<^^>^vv<<<<v<v><>v>>^vv<>^v><>v^><vv<^"
      "vv^^vv^>><^><>^><vv<><v>v>^<v^<^v^<<<v<>>>^v<vv^><v>^>vvv^^v<v<^^^<>vvv>"
      "v><<v><>>>><^>vvv<vv^<<^>><<^v<^^v^><^<>v<^<<^>^^<^^^v>^<<>v^v<>v^vv^<<^"
      "<v<^^<>^<<v>>v>v^>>>v<v^<v>^v>vv^>><<<v<<^v>v<v^^vvvvv><>^>>v<<<v^^^^<v^"
      "vv>>>>>^^><<^^v<^>>v<v^^<^vv>^<>^v^<<^vvv>>v>>^v>>>>><^v>v<>v<>>vv^<><v<"
      ">v^^<^^>><<v^<<<v><^>v><v<^^<vv^v^vv<vvvvv<<v<>>><<<vv^<><v^>v<vv<>> "
      "<<>^<^<>^v^><<<<>v<^<v^v^^v^<^<v><v^^vv^<><v^v>^>v<v^><^<><<<^v^^^>>v^v^"
      "^vv^><<>v>><v><^<^>v^v^v^vv^<><<<^<>^<vvv^<<^<^<vv<>^v<>>^<><^^>^v>>vv>>"
      "^v^^><^^<vv<<vvvv<^>v^<><<<>v>vv><>><vv<^>^<v^<^>^^>>>^>vv^vv^<v^>^^^v<>"
      ">>^<<>>^^v<v^v<^vv^<>v>>^>>^<><vv^v>^^v>^>>^><^>v><^^<<^>^v>^<>vv><><>^<"
      "v>>>^^<^><^<v<^<<^>^<<^^v^<<<v>>^>v<>^><><v>v<<v^vv><^><v<^<v>v>^^>v^^^^"
      ">>^>^<>^vv<>^vv><<^^><^^>^v^<vv<^<v^^^>^v><<^<>^^><vv^<<v^^vv<vv^^>>><<"
      "v^vv>^^^^>^<<v<><vvv<^<<<<^vvvv>>^v<<v>^>>><><<<<v^v<v>^^><v>^<><^v<<^<>"
      ">>^>>>>^<<v<v<vv<^v^v>v<<^<>v><^vv<vv^v^<<><<v<<>v^^<<<<^vv<<v>><><>v^>>"
      "v>^<<v>>vv^<v^<v>vv<^<<^vvv<^>v<<><>^vv>v^<v^v>^vv<^>v^^>>v^<^^^v<>>>>><"
      "^>v^^<v<>v<<><v^v^^vvv>^vv<^vv^v^^>vv^<^>><<vv^vv^v><<v>^v>>v<<<^v>v<^^"
      "v^^>>v>>v<v>><>v^vvv<v>v<>vv^<<v^v>^v<v<>>^v<^><<^><<^^<>v^v^<^><>>>><>>"
      "<>^<>vvv<>vv>><><<vv<v<><<>v^^<^<<v^vv^>v^<^v^^>^v>v^>>v^v<<^^<>v^^^v>^>"
      ">><<v^^v^^>><<^<>>>^<>v<v^<>v><<v<v<<^<<^>>^^><<^v>>^<><^^<v><v><^^<^<"
      "vv<v^>^<^^^^<<<<v>><v>v^^>^v<<^^<<<<<v<>>^v^v<>v>v^<^v^<<>^^v<^^>v<<";

  /*string movementStr = "<^^>>>vv<v>>";*/

  auto printGrid = [&](vector<vector<char>> &some) {
    for (auto it : some) {
      for (auto k : it) {
        cout << k;
      }
      cout << '\n';
    }
  };

  while (getline(f, s)) {
    vector<char> temp;
    for (auto it : s) {
      temp.push_back(it);
    }
    v.push_back(temp);
  }

  for (auto it : movementStr) {
    movements.push_back(it);
  }

  int startR, startC = 0;
  int n = (int)v.size();
  int m = (int)v[0].size();
  for (int i = 0; i < n; i++) {
    for (int j = 0; j < m; j++) {
      if (v[i][j] == '@') {
        startR = i;
        startC = j;
      }
    }
  }

  unordered_map<char, pair<int, int>> u = {
      {'>', {0, 1}}, {'<', {0, -1}}, {'^', {-1, 0}}, {'v', {1, 0}}};

  auto dfs = [&](int row, int col, char move) {
    vector<pair<int, int>> se;
    se.push_back({startR, startC});
    se.push_back({row, col});

    int sr = row;
    int sc = col;
    while (v[sr][sc] == 'O') {
      sr = sr + u[move].first;
      sc = sc + u[move].second;
      se.push_back({sr, sc});
    }

    se.pop_back();
    // next row and col not .
    int counter = 0;
    int nsr = sr;
    int nsc = sc;
    if (v[nsr][nsc] != '.') {
      se.clear();
    } else {
      counter = 1;
      /*while (v[nsr][nsc] == '.') {*/
      /*  nsr = nsr + u[move].first;*/
      /*  nsc = nsc + u[move].second;*/
      /*  counter++;*/
      /*}*/
    }

    for (auto it : se) {
      cout << it.first << it.second;
      cout << '\n';
    }
    cout << counter << endl;

    reverse(se.begin(), se.end());
    for (int swap = 0; swap < counter; swap++) {
      for (auto setp : se) {
        /*cout << setp.first << setp.second << endl;*/
        if (v[setp.first][setp.second] == '@') {
          v[setp.first][setp.second] = '.';
          v[setp.first + u[move].first][setp.second + u[move].second] = '@';
          startR = setp.first + u[move].first;
          startC = setp.second + u[move].second;
        } else {
          v[setp.first][setp.second] = '.';
          v[setp.first + u[move].first][setp.second + u[move].second] = 'O';
        }
      }
    }
  };

  for (auto dir : movements) {
    int px = startR + u[dir].first;
    int py = startC + u[dir].second;
    if (v[px][py] == '#') {
      continue;
    } else if (v[px][py] == '.') {
      v[startR][startC] = '.';
      startR = px;
      startC = py;
      v[px][py] = '@';
    } else if (v[px][py] == 'O') {
      dfs(px, py, dir);
    }
    /*cout << dir << startR << startC << endl;*/
    /*printGrid(v);*/
  }

  int sum = 0;
  for (int i = 0; i < n; i++) {
    for (int j = 0; j < m; j++) {
      if (v[i][j] == 'O') {
        sum += (100 * i + j);
      }
    }
  }
  cout << sum << endl;

  return 0;
}
